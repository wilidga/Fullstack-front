{"ast":null,"code":"var _jsxFileName = \"/Users/wilidga/Developer/MERN/FullStack/ITijuana-demo/final-project-front/src/components/blogs/PostDetail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/authContext\";\nimport { PostsContext } from \"../../context/postsContext\";\nimport { Comment } from \"../comments/Comment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const PostDetail = () => {\n  _s();\n\n  const params = useParams();\n  const id = params.id;\n  const {\n    deletePost,\n    getPostDetail\n  } = useContext(PostsContext);\n  const {\n    userState\n  } = useContext(AuthContext);\n  const [post, setPost] = useState({});\n  const [loading, setLoading] = useState(true);\n\n  const fetchPost = async () => {\n    try {\n      const postsFetched = await getPostDetail(id);\n      setPost(postsFetched);\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchPost();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: \"#595959\"\n        },\n        className: \"text-center my-4\",\n        children: ` ${post === null || post === void 0 ? void 0 : post.title}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-4\",\n        children: post === null || post === void 0 ? void 0 : post.postBody\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"my-btn\",\n        onClick: () => deletePost(id, userState.user.token),\n        children: \"delete post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex  justify-content-end\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          className: \"my-link h5\",\n          to: \"create-comment\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"bi bi-file-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this), \"create new comment\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), post.comments.map(x => /*#__PURE__*/_jsxDEV(Comment, {\n        comment: x\n      }, x._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PostDetail, \"TsjJsLGAWlgSNih1Ibil/CGzWqA=\", false, function () {\n  return [useParams];\n});\n\n_c = PostDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostDetail\");","map":{"version":3,"sources":["/Users/wilidga/Developer/MERN/FullStack/ITijuana-demo/final-project-front/src/components/blogs/PostDetail.js"],"names":["React","useContext","useEffect","useState","Link","useParams","AuthContext","PostsContext","Comment","PostDetail","params","id","deletePost","getPostDetail","userState","post","setPost","loading","setLoading","fetchPost","postsFetched","error","console","log","color","title","postBody","user","token","comments","map","x","_id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,IAAT,EAAeC,SAAf,QAAgC,kBAAhC;AACA,SAASC,WAAT,QAA4B,2BAA5B;AACA,SAASC,YAAT,QAA6B,4BAA7B;AACA,SAASC,OAAT,QAAwB,qBAAxB;;;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAM;AAAA;;AAC9B,QAAMC,MAAM,GAAGL,SAAS,EAAxB;AACA,QAAMM,EAAE,GAAGD,MAAM,CAACC,EAAlB;AACA,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAAgCZ,UAAU,CAACM,YAAD,CAAhD;AACA,QAAM;AAAEO,IAAAA;AAAF,MAAgBb,UAAU,CAACK,WAAD,CAAhC;AACA,QAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACc,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,IAAD,CAAtC;;AAEA,QAAMgB,SAAS,GAAG,YAAY;AAC5B,QAAI;AACF,YAAMC,YAAY,GAAG,MAAMP,aAAa,CAACF,EAAD,CAAxC;AACAK,MAAAA,OAAO,CAACI,YAAD,CAAP;AACAF,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAJD,CAIE,OAAOG,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAH,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,GATD;;AAUAhB,EAAAA,SAAS,CAAC,MAAM;AACdiB,IAAAA,SAAS;AACV,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACE;AAAA,cACGF,OAAO,gBACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADM,gBAGN;AAAA,8BACE;AACE,QAAA,KAAK,EAAE;AAAEO,UAAAA,KAAK,EAAE;AAAT,SADT;AAEE,QAAA,SAAS,EAAC,kBAFZ;AAAA,kBAGG,IAAGT,IAAJ,aAAIA,IAAJ,uBAAIA,IAAI,CAAEU,KAAM;AAHlB;AAAA;AAAA;AAAA;AAAA,cADF,eAKE;AAAG,QAAA,SAAS,EAAC,MAAb;AAAA,kBAAqBV,IAArB,aAAqBA,IAArB,uBAAqBA,IAAI,CAAEW;AAA3B;AAAA;AAAA;AAAA;AAAA,cALF,eAME;AACE,QAAA,SAAS,EAAC,QADZ;AAEE,QAAA,OAAO,EAAE,MAAMd,UAAU,CAACD,EAAD,EAAKG,SAAS,CAACa,IAAV,CAAeC,KAApB,CAF3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,eAaE;AAAK,QAAA,SAAS,EAAC,6BAAf;AAAA,+BACE,QAAC,IAAD;AAAM,UAAA,SAAS,EAAC,YAAhB;AAA6B,UAAA,EAAE,EAAE,gBAAjC;AAAA,qBACG,GADH,eAEE;AAAA,uBACG,GADH,eAEE;AAAG,cAAA,KAAK,EAAC;AAAT;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,EAKO,GALP;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAbF,EAsBGb,IAAI,CAACc,QAAL,CAAcC,GAAd,CAAmBC,CAAD,iBACjB,QAAC,OAAD;AAAqB,QAAA,OAAO,EAAEA;AAA9B,SAAcA,CAAC,CAACC,GAAhB;AAAA;AAAA;AAAA;AAAA,cADD,CAtBH;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,UADF;AAkCD,CAxDM;;GAAMvB,U;UACIJ,S;;;KADJI,U","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/authContext\";\nimport { PostsContext } from \"../../context/postsContext\";\nimport { Comment } from \"../comments/Comment\";\n\nexport const PostDetail = () => {\n  const params = useParams();\n  const id = params.id;\n  const { deletePost, getPostDetail } = useContext(PostsContext);\n  const { userState } = useContext(AuthContext);\n  const [post, setPost] = useState({});\n  const [loading, setLoading] = useState(true);\n\n  const fetchPost = async () => {\n    try {\n      const postsFetched = await getPostDetail(id);\n      setPost(postsFetched);\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchPost();\n  }, []);\n\n  return (\n    <div>\n      {loading ? (\n        <div>cargando...</div>\n      ) : (\n        <>\n          <h2\n            style={{ color: \"#595959\" }}\n            className=\"text-center my-4\"\n          >{` ${post?.title}`}</h2>\n          <p className=\"mb-4\">{post?.postBody}</p>\n          <button\n            className=\"my-btn\"\n            onClick={() => deletePost(id, userState.user.token)}\n          >\n            delete post\n          </button>\n          {/* <h4>comments:</h4> */}\n          <div className=\"d-flex  justify-content-end\">\n            <Link className=\"my-link h5\" to={\"create-comment\"}>\n              {\" \"}\n              <p>\n                {\" \"}\n                <i class=\"bi bi-file-plus\"></i>create new comment\n              </p>{\" \"}\n            </Link>\n          </div>\n          {post.comments.map((x) => (\n            <Comment key={x._id} comment={x} />\n          ))}\n        </>\n      )}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}