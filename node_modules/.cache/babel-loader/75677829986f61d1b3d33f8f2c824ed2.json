{"ast":null,"code":"var _jsxFileName = \"/Users/wilidga/Developer/MERN/FullStack/ITijuana-demo/final-project-front/src/context/authContext.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useEffect, useReducer } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport AuthReducer from \"./AuthReducer\";\nimport types from \"./types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext({});\nexport const ContextAuthProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const navigate = useNavigate();\n\n  const init = () => {\n    const user = JSON.parse(localStorage.getItem(\"user\")) || {};\n    return {\n      user\n    };\n  }; // const initialState ={\n  //   user:null\n  // }\n\n\n  const [userState, dispatch] = useReducer(AuthReducer, {}, init);\n\n  const authUser = user => {\n    localStorage.setItem(\"user\", JSON.stringify(user));\n    dispatch({\n      type: types.auth,\n      payload: user\n    });\n    navigate(\"/\");\n  };\n\n  const logoutUser = () => {\n    const user = {};\n    localStorage.setItem(\"user\", JSON.stringify(user));\n    dispatch({\n      type: types.auth\n    });\n    navigate(\"/\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      userState,\n      authUser,\n      logoutUser\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ContextAuthProvider, \"9dC9RfdGEWn+ClyEvw/q5RQRoD4=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ContextAuthProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContextAuthProvider\");","map":{"version":3,"sources":["/Users/wilidga/Developer/MERN/FullStack/ITijuana-demo/final-project-front/src/context/authContext.js"],"names":["createContext","useEffect","useReducer","useNavigate","AuthReducer","types","AuthContext","ContextAuthProvider","children","navigate","init","user","JSON","parse","localStorage","getItem","userState","dispatch","authUser","setItem","stringify","type","auth","payload","logoutUser"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,SAAxB,EAAmCC,UAAnC,QAAqD,OAArD;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA,OAAO,MAAMC,WAAW,gBAAGN,aAAa,CAAC,EAAD,CAAjC;AAEP,OAAO,MAAMO,mBAAmB,GAAG,QAAkB;AAAA;;AAAA,MAAjB;AAAEC,IAAAA;AAAF,GAAiB;AACnD,QAAMC,QAAQ,GAAGN,WAAW,EAA5B;;AACA,QAAMO,IAAI,GAAG,MAAM;AACjB,UAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,KAA4C,EAAzD;AACA,WAAO;AAAEJ,MAAAA;AAAF,KAAP;AACD,GAHD,CAFmD,CAOnD;AACA;AACA;;;AAEA,QAAM,CAACK,SAAD,EAAYC,QAAZ,IAAwBf,UAAU,CAACE,WAAD,EAAc,EAAd,EAAkBM,IAAlB,CAAxC;;AAEA,QAAMQ,QAAQ,GAAIP,IAAD,IAAU;AACzBG,IAAAA,YAAY,CAACK,OAAb,CAAqB,MAArB,EAA6BP,IAAI,CAACQ,SAAL,CAAeT,IAAf,CAA7B;AACAM,IAAAA,QAAQ,CAAC;AAAEI,MAAAA,IAAI,EAAEhB,KAAK,CAACiB,IAAd;AAAoBC,MAAAA,OAAO,EAAEZ;AAA7B,KAAD,CAAR;AACAF,IAAAA,QAAQ,CAAC,GAAD,CAAR;AACD,GAJD;;AAKA,QAAMe,UAAU,GAAG,MAAM;AACvB,UAAMb,IAAI,GAAG,EAAb;AACAG,IAAAA,YAAY,CAACK,OAAb,CAAqB,MAArB,EAA6BP,IAAI,CAACQ,SAAL,CAAeT,IAAf,CAA7B;AACAM,IAAAA,QAAQ,CAAC;AAAEI,MAAAA,IAAI,EAAEhB,KAAK,CAACiB;AAAd,KAAD,CAAR;AACAb,IAAAA,QAAQ,CAAC,GAAD,CAAR;AACD,GALD;;AAOA,sBACE,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEO,MAAAA,SAAF;AAAaE,MAAAA,QAAb;AAAuBM,MAAAA;AAAvB,KAA7B;AAAA,cACGhB;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CA9BM;;GAAMD,mB;UACMJ,W;;;KADNI,mB","sourcesContent":["import { createContext, useEffect, useReducer } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport AuthReducer from \"./AuthReducer\";\nimport types from \"./types\";\n\nexport const AuthContext = createContext({});\n\nexport const ContextAuthProvider = ({ children }) => {\n  const navigate = useNavigate();\n  const init = () => {\n    const user = JSON.parse(localStorage.getItem(\"user\")) || {};\n    return { user };\n  };\n\n  // const initialState ={\n  //   user:null\n  // }\n\n  const [userState, dispatch] = useReducer(AuthReducer, {}, init);\n\n  const authUser = (user) => {\n    localStorage.setItem(\"user\", JSON.stringify(user));\n    dispatch({ type: types.auth, payload: user });\n    navigate(\"/\");\n  };\n  const logoutUser = () => {\n    const user = {};\n    localStorage.setItem(\"user\", JSON.stringify(user));\n    dispatch({ type: types.auth });\n    navigate(\"/\");\n  };\n\n  return (\n    <AuthContext.Provider value={{ userState, authUser, logoutUser }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}